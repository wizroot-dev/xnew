<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>example02-canvas</title>

    <script src="../pixi.min.js"></script>
    <script src="../../dist/xnew.js"></script>
</head>

<body style="height: 100vh; margin: 0;">
   <script>
        const element = { style: 'position: relative; margin: 8px auto 8px; width: 400px; height: 300px; border: 1px solid #A0A;' };
        
        // case1
        xnew(element, function () {
            const canvas = xnew({ tag: 'canvas', width: 200, height: 100, style: 'width: 100%; height: 100%; object-fit: fill;' });
            xnew(Content, { canvas: canvas.element });
        });

        // case2
        xnew(element, function () {
            const canvas = xnew({ tag: 'canvas', width: 200, height: 100, style: 'width: 100%; height: 100%; object-fit: cover;' });
            xnew(Content, { canvas: canvas.element });
        });

        // case3
        xnew(element, function() {
            const canvas = xnew({ tag: 'canvas', width: 200, height: 100, style: 'width: 100%; height: 100%; object-fit: contain;' });
            xnew(Content, { canvas: canvas.element });
        });

        // case4
        xnew(element, function() {
            xnew(xnex.Screen, { aspect: 2 / 1 }, function () {
                const canvas = xnew({ tag: 'canvas', width: 200, height: 100, style: 'width: 100%; height: 100%;' });
                xnew(Content, { canvas: canvas.element });
            });
        });

        function Content({ canvas }) {
            const context = canvas.getContext('2d');

            return {
                animate: (time) => {
                    const cx = canvas.width / 2;
                    const cy = canvas.height / 2;
                    const r = Math.min(cx, cy) * 0.5;

                    context.fillStyle = "rgb(0,0,0)";
                    context.fillRect(0, 0, canvas.width, canvas.height);

                    context.fillStyle = "rgb(200,0,100)";
                    context.fillRect(cx - 0.6 * cx - r, cy - r, r * 2, r * 2);

                    context.fillStyle = "rgb(100,200,0)";
                    context.fillRect(cx + 0.0 * cx - r, cy - r, r * 2, r * 2);

                    context.fillStyle = "rgb(0,100,200)";
                    context.fillRect(cx + 0.6 * cx - r, cy - r, r * 2, r * 2);
                },
            };
        }

    </script>
</body>
</html>